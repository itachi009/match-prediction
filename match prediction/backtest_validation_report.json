{
  "backtest_run_id": "bt_20260209_080218_34cae7f7",
  "backtest_generated_at_utc": "2026-02-09T08:02:18Z",
  "active_model_run_id": "20260209_070638_xgb_sigmoid",
  "report_files": {
    "validation": "/content/drive/MyDrive/match-prediction_persist/runs/backtest_validation_report.json",
    "walkforward": "/content/drive/MyDrive/match-prediction_persist/runs/backtest_walkforward_report.json",
    "stress": "/content/drive/MyDrive/match-prediction_persist/runs/backtest_stress_report.json",
    "baseline_config": "/content/drive/MyDrive/match-prediction_persist/runs/backtest_baseline_config.json"
  },
  "runs_artifacts": {
    "runs_dir": "/content/drive/MyDrive/match-prediction_persist/runs",
    "scorecard_history_file": "/content/drive/MyDrive/match-prediction_persist/runs/scorecard_history.csv",
    "live_bets_log_file": "/content/drive/MyDrive/match-prediction_persist/runs/live_bets_log.csv",
    "created_files": []
  },
  "baseline_config": {
    "name": "v11_oriented_fair_kelly_oos_gate_conservative",
    "min_edge": 0.06,
    "min_ev": 0.06,
    "min_confidence": 0.64,
    "prob_shrink": 0.62,
    "kelly_fraction": 0.01,
    "max_stake_pct": 0.01,
    "max_overround": 1.12,
    "min_odds": 1.55,
    "max_odds": 3.0,
    "max_bet_share": 0.08,
    "min_kelly_f": 0.1,
    "min_signal_score": 0.005,
    "edge_slope_by_odds": 0.02,
    "payout_haircut_pct": 0.0,
    "commission_pct": 0.0,
    "slippage_pct": 0.0,
    "residual_shrink_odds_2_5": 0.96,
    "residual_shrink_odds_3_0": 0.95,
    "no_odds_eval_enabled": true,
    "no_odds_eval_year": 2024,
    "no_odds_eval_levels": [
      "C",
      "F"
    ],
    "no_odds_gate_policy": "light",
    "no_odds_min_matches": 200
  },
  "baseline_config_snapshot": {
    "frozen_at": "2026-02-09T08:03:13.139702+00:00",
    "model_file": "/content/drive/MyDrive/match-prediction_persist/artifacts/models/20260209_070638_xgb_sigmoid/model.pkl",
    "model_features_file": "/content/drive/MyDrive/match-prediction_persist/artifacts/models/20260209_070638_xgb_sigmoid/model_features.pkl",
    "active_model_file": "/content/match-prediction/active_model.json",
    "active_model": {
      "run_id": "20260209_070638_xgb_sigmoid",
      "model_family": "xgb",
      "model_path": "/content/drive/MyDrive/match-prediction_persist/artifacts/models/20260209_070638_xgb_sigmoid/model.pkl",
      "features_path": "/content/drive/MyDrive/match-prediction_persist/artifacts/models/20260209_070638_xgb_sigmoid/model_features.pkl",
      "metadata_path": "/content/drive/MyDrive/match-prediction_persist/artifacts/models/20260209_070638_xgb_sigmoid/training_report.json",
      "created_at": "2026-02-09T07:10:31.426758Z"
    },
    "features_file": "/content/drive/MyDrive/match-prediction_persist/data/processed_features.csv",
    "odds_file": "/content/drive/MyDrive/match-prediction_persist/data/2024_test.csv",
    "tuning_runtime": {
      "min_bets_for_tuning": 100,
      "objective_mode": "roi_minus_lambda_bets_ratio",
      "lambda_bets": 0.5,
      "max_bets_increase_pct": 0.2,
      "fallback_eps_roi_pct": 0.1,
      "restricted_tuning_mode": false,
      "restricted_fixed_min_ev": 0.06,
      "restricted_fixed_prob_shrink": 0.6,
      "restricted_min_edge_values": [
        0.06,
        0.065
      ],
      "restricted_min_confidence_values": [
        0.64,
        0.66
      ],
      "fold_freq": "quarter"
    },
    "config": {
      "name": "v11_oriented_fair_kelly_oos_gate_conservative",
      "min_edge": 0.06,
      "min_ev": 0.06,
      "min_confidence": 0.64,
      "prob_shrink": 0.62,
      "kelly_fraction": 0.01,
      "max_stake_pct": 0.01,
      "max_overround": 1.12,
      "min_odds": 1.55,
      "max_odds": 3.0,
      "max_bet_share": 0.08,
      "min_kelly_f": 0.1,
      "min_signal_score": 0.005,
      "edge_slope_by_odds": 0.02,
      "payout_haircut_pct": 0.0,
      "commission_pct": 0.0,
      "slippage_pct": 0.0,
      "residual_shrink_odds_2_5": 0.96,
      "residual_shrink_odds_3_0": 0.95,
      "no_odds_eval_enabled": true,
      "no_odds_eval_year": 2024,
      "no_odds_eval_levels": [
        "C",
        "F"
      ],
      "no_odds_gate_policy": "light",
      "no_odds_min_matches": 200
    },
    "backtest_run_id": "bt_20260209_080218_34cae7f7",
    "backtest_generated_at_utc": "2026-02-09T08:02:18Z",
    "active_model_run_id": "20260209_070638_xgb_sigmoid"
  },
  "tuning_runtime": {
    "min_bets_for_tuning": 100,
    "objective_mode": "roi_minus_lambda_bets_ratio",
    "lambda_bets": 0.5,
    "max_bets_increase_pct": 0.2,
    "fallback_eps_roi_pct": 0.1,
    "restricted_tuning_mode": false,
    "restricted_fixed_min_ev": 0.06,
    "restricted_fixed_prob_shrink": 0.6,
    "restricted_min_edge_values": [
      0.06,
      0.065
    ],
    "restricted_min_confidence_values": [
      0.64,
      0.66
    ],
    "fold_freq": "quarter"
  },
  "active_model": {
    "run_id": "20260209_070638_xgb_sigmoid",
    "model_family": "xgb",
    "model_path": "/content/drive/MyDrive/match-prediction_persist/artifacts/models/20260209_070638_xgb_sigmoid/model.pkl",
    "features_path": "/content/drive/MyDrive/match-prediction_persist/artifacts/models/20260209_070638_xgb_sigmoid/model_features.pkl",
    "metadata_path": "/content/drive/MyDrive/match-prediction_persist/artifacts/models/20260209_070638_xgb_sigmoid/training_report.json",
    "created_at": "2026-02-09T07:10:31.426758Z"
  },
  "merge_stats": {
    "merge_by": [
      "directed_id"
    ],
    "oriented_rows": 4872,
    "matched_step1": 1784,
    "matched_step2": 2078,
    "matched_total_sides": 2686,
    "matched_unique_matches": 1553
  },
  "baseline_result": {
    "bankroll": 1022.5227779180241,
    "roi": 2.2522777918024075,
    "bets": 82,
    "wins": 49,
    "win_rate": 59.756097560975604,
    "max_drawdown_pct": 2.207038030335847,
    "profit_factor": 1.1855587449034515,
    "bootstrap_roi_ci": [
      -3.9850456785516606,
      7.933160735809599
    ]
  },
  "calibration": {
    "brier_raw": 0.20902575263122009,
    "brier_calibrated": 0.20902575263122009,
    "brier_calibrated_shrunk": 0.20920049652405978,
    "brier_shrunk": 0.20920049652405978,
    "plot_file": "/content/drive/MyDrive/match-prediction_persist/runs/reliability_curve.png",
    "table_file": "/content/drive/MyDrive/match-prediction_persist/runs/reliability_table.csv"
  },
  "calibration_metrics": {
    "calibrator_name": "identity",
    "brier_raw": 0.20902575263122009,
    "brier_calibrated": 0.20902575263122009,
    "brier_calibrated_shrunk": 0.20920049652405978,
    "ece_raw": 0.023885323178425386,
    "ece_calibrated": 0.023885323178425386,
    "mce_raw": 0.09568886307197444,
    "mce_calibrated": 0.09568886307197444,
    "selection_primary_metric": "ece",
    "selection_reason": "min_ece_then_brier:identity",
    "ece_raw_val": 0.054384896981914024,
    "ece_sigmoid_val": 0.05454107276382952,
    "ece_isotonic_val": 0.06333375639928338,
    "calibrator_validation_metrics": {
      "brier_raw_val": 0.19068322353729783,
      "brier_sigmoid_val": 0.19322609795174267,
      "brier_isotonic_val": 0.19345631763803775,
      "ece_raw_val": 0.054384896981914024,
      "ece_sigmoid_val": 0.05454107276382952,
      "ece_isotonic_val": 0.06333375639928338,
      "n_train": 1038,
      "n_val": 446
    }
  },
  "temporal_validation": {
    "split_date": "2024-07-01",
    "baseline_config": {
      "name": "v11_oriented_fair_kelly_oos_gate_conservative",
      "min_edge": 0.06,
      "min_ev": 0.06,
      "min_confidence": 0.64,
      "prob_shrink": 0.62,
      "kelly_fraction": 0.01,
      "max_stake_pct": 0.01,
      "max_overround": 1.12,
      "min_odds": 1.55,
      "max_odds": 3.0,
      "max_bet_share": 0.08,
      "min_kelly_f": 0.1,
      "min_signal_score": 0.005,
      "edge_slope_by_odds": 0.02,
      "payout_haircut_pct": 0.0,
      "commission_pct": 0.0,
      "slippage_pct": 0.0,
      "residual_shrink_odds_2_5": 0.96,
      "residual_shrink_odds_3_0": 0.95,
      "no_odds_eval_enabled": true,
      "no_odds_eval_year": 2024,
      "no_odds_eval_levels": [
        "C",
        "F"
      ],
      "no_odds_gate_policy": "light",
      "no_odds_min_matches": 200
    },
    "baseline_h1": {
      "roi": 0.9927473682349274,
      "bets": 38,
      "max_drawdown_pct": 2.175642814479687
    },
    "baseline_h2": {
      "roi": 1.2471493809105256,
      "bets": 44,
      "max_drawdown_pct": 1.6933007489828087,
      "bootstrap_roi_ci": [
        -3.123348043032388,
        5.510122998339895
      ]
    },
    "best_h1_config": {
      "name": "v11_oriented_fair_kelly_oos_gate_conservative",
      "min_edge": 0.06,
      "min_ev": 0.06,
      "min_confidence": 0.64,
      "prob_shrink": 0.62,
      "kelly_fraction": 0.01,
      "max_stake_pct": 0.01,
      "max_overround": 1.12,
      "min_odds": 1.55,
      "max_odds": 3.0,
      "max_bet_share": 0.08,
      "min_kelly_f": 0.1,
      "min_signal_score": 0.005,
      "edge_slope_by_odds": 0.02,
      "payout_haircut_pct": 0.0,
      "commission_pct": 0.0,
      "slippage_pct": 0.0,
      "residual_shrink_odds_2_5": 0.96,
      "residual_shrink_odds_3_0": 0.95,
      "no_odds_eval_enabled": true,
      "no_odds_eval_year": 2024,
      "no_odds_eval_levels": [
        "C",
        "F"
      ],
      "no_odds_gate_policy": "light",
      "no_odds_min_matches": 200
    },
    "best_h1_result": {
      "roi": 0.9927473682349274,
      "bets": 38,
      "max_drawdown_pct": 2.175642814479687,
      "objective": 0.9709833361616169,
      "score": 0.9709833361616169
    },
    "tuned_h2_result": {
      "roi": 1.2471493809105256,
      "bets": 44,
      "max_drawdown_pct": 1.6933007489828087,
      "bootstrap_roi_ci": [
        -3.123348043032388,
        5.510122998339895
      ]
    },
    "top10_h1": [
      {
        "score": 2.361846718205162,
        "objective": 2.361846718205162,
        "roi": 2.3870471763953107,
        "max_dd": 4.805804386621576,
        "bets": 44,
        "feasible_gate": false,
        "guardrail_passed": true,
        "guardrail_reason": "ok",
        "objective_delta_vs_baseline": 1.390863382043545,
        "conservativeness": 0.64,
        "min_edge": 0.065,
        "min_ev": 0.06,
        "min_confidence": 0.64,
        "prob_shrink": 0.6,
        "kelly_fraction": 0.02,
        "max_stake_pct": 0.01,
        "max_bet_share": 0.08,
        "min_kelly_f": 0.1,
        "min_signal_score": 0.003,
        "edge_slope_by_odds": 0.02,
        "residual_shrink_odds_2_5": 0.96,
        "residual_shrink_odds_3_0": 0.95
      },
      {
        "score": 2.361846718205162,
        "objective": 2.361846718205162,
        "roi": 2.3870471763953107,
        "max_dd": 4.805804386621576,
        "bets": 44,
        "feasible_gate": false,
        "guardrail_passed": true,
        "guardrail_reason": "ok",
        "objective_delta_vs_baseline": 1.390863382043545,
        "conservativeness": 0.64,
        "min_edge": 0.065,
        "min_ev": 0.06,
        "min_confidence": 0.64,
        "prob_shrink": 0.6,
        "kelly_fraction": 0.02,
        "max_stake_pct": 0.01,
        "max_bet_share": 0.08,
        "min_kelly_f": 0.1,
        "min_signal_score": 0.003,
        "edge_slope_by_odds": 0.015,
        "residual_shrink_odds_2_5": 0.96,
        "residual_shrink_odds_3_0": 0.95
      },
      {
        "score": 2.361846718205162,
        "objective": 2.361846718205162,
        "roi": 2.3870471763953107,
        "max_dd": 4.805804386621576,
        "bets": 44,
        "feasible_gate": false,
        "guardrail_passed": true,
        "guardrail_reason": "ok",
        "objective_delta_vs_baseline": 1.390863382043545,
        "conservativeness": 0.64,
        "min_edge": 0.065,
        "min_ev": 0.06,
        "min_confidence": 0.64,
        "prob_shrink": 0.6,
        "kelly_fraction": 0.02,
        "max_stake_pct": 0.01,
        "max_bet_share": 0.08,
        "min_kelly_f": 0.1,
        "min_signal_score": 0.003,
        "edge_slope_by_odds": 0.03,
        "residual_shrink_odds_2_5": 0.96,
        "residual_shrink_odds_3_0": 0.95
      },
      {
        "score": 2.361846718205162,
        "objective": 2.361846718205162,
        "roi": 2.3870471763953107,
        "max_dd": 4.805804386621576,
        "bets": 44,
        "feasible_gate": false,
        "guardrail_passed": true,
        "guardrail_reason": "ok",
        "objective_delta_vs_baseline": 1.390863382043545,
        "conservativeness": 0.64,
        "min_edge": 0.065,
        "min_ev": 0.06,
        "min_confidence": 0.64,
        "prob_shrink": 0.6,
        "kelly_fraction": 0.02,
        "max_stake_pct": 0.01,
        "max_bet_share": 0.08,
        "min_kelly_f": 0.1,
        "min_signal_score": 0.003,
        "edge_slope_by_odds": 0.02,
        "residual_shrink_odds_2_5": 0.98,
        "residual_shrink_odds_3_0": 0.95
      },
      {
        "score": 2.361846718205162,
        "objective": 2.361846718205162,
        "roi": 2.3870471763953107,
        "max_dd": 4.805804386621576,
        "bets": 44,
        "feasible_gate": false,
        "guardrail_passed": true,
        "guardrail_reason": "ok",
        "objective_delta_vs_baseline": 1.390863382043545,
        "conservativeness": 0.64,
        "min_edge": 0.065,
        "min_ev": 0.06,
        "min_confidence": 0.64,
        "prob_shrink": 0.6,
        "kelly_fraction": 0.02,
        "max_stake_pct": 0.01,
        "max_bet_share": 0.08,
        "min_kelly_f": 0.1,
        "min_signal_score": 0.003,
        "edge_slope_by_odds": 0.02,
        "residual_shrink_odds_2_5": 0.96,
        "residual_shrink_odds_3_0": 0.92
      },
      {
        "score": 2.361846718205162,
        "objective": 2.361846718205162,
        "roi": 2.3870471763953107,
        "max_dd": 4.805804386621576,
        "bets": 44,
        "feasible_gate": false,
        "guardrail_passed": true,
        "guardrail_reason": "ok",
        "objective_delta_vs_baseline": 1.390863382043545,
        "conservativeness": 0.64,
        "min_edge": 0.065,
        "min_ev": 0.06,
        "min_confidence": 0.64,
        "prob_shrink": 0.6,
        "kelly_fraction": 0.02,
        "max_stake_pct": 0.01,
        "max_bet_share": 0.08,
        "min_kelly_f": 0.1,
        "min_signal_score": 0.003,
        "edge_slope_by_odds": 0.02,
        "residual_shrink_odds_2_5": 0.96,
        "residual_shrink_odds_3_0": 0.96
      },
      {
        "score": 2.361846718205162,
        "objective": 2.361846718205162,
        "roi": 2.3870471763953107,
        "max_dd": 4.805804386621576,
        "bets": 44,
        "feasible_gate": false,
        "guardrail_passed": true,
        "guardrail_reason": "ok",
        "objective_delta_vs_baseline": 1.390863382043545,
        "conservativeness": 0.64,
        "min_edge": 0.065,
        "min_ev": 0.06,
        "min_confidence": 0.64,
        "prob_shrink": 0.6,
        "kelly_fraction": 0.02,
        "max_stake_pct": 0.01,
        "max_bet_share": 0.08,
        "min_kelly_f": 0.1,
        "min_signal_score": 0.003,
        "edge_slope_by_odds": 0.02,
        "residual_shrink_odds_2_5": 0.98,
        "residual_shrink_odds_3_0": 0.92
      },
      {
        "score": 2.361846718205162,
        "objective": 2.361846718205162,
        "roi": 2.3870471763953107,
        "max_dd": 4.805804386621576,
        "bets": 44,
        "feasible_gate": false,
        "guardrail_passed": true,
        "guardrail_reason": "ok",
        "objective_delta_vs_baseline": 1.390863382043545,
        "conservativeness": 0.635,
        "min_edge": 0.06,
        "min_ev": 0.06,
        "min_confidence": 0.64,
        "prob_shrink": 0.6,
        "kelly_fraction": 0.02,
        "max_stake_pct": 0.01,
        "max_bet_share": 0.08,
        "min_kelly_f": 0.1,
        "min_signal_score": 0.003,
        "edge_slope_by_odds": 0.02,
        "residual_shrink_odds_2_5": 0.96,
        "residual_shrink_odds_3_0": 0.95
      },
      {
        "score": 2.361846718205162,
        "objective": 2.361846718205162,
        "roi": 2.3870471763953107,
        "max_dd": 4.805804386621576,
        "bets": 44,
        "feasible_gate": false,
        "guardrail_passed": true,
        "guardrail_reason": "ok",
        "objective_delta_vs_baseline": 1.390863382043545,
        "conservativeness": 0.635,
        "min_edge": 0.06,
        "min_ev": 0.06,
        "min_confidence": 0.64,
        "prob_shrink": 0.6,
        "kelly_fraction": 0.02,
        "max_stake_pct": 0.01,
        "max_bet_share": 0.08,
        "min_kelly_f": 0.1,
        "min_signal_score": 0.003,
        "edge_slope_by_odds": 0.02,
        "residual_shrink_odds_2_5": 0.96,
        "residual_shrink_odds_3_0": 0.92
      },
      {
        "score": 2.361846718205162,
        "objective": 2.361846718205162,
        "roi": 2.3870471763953107,
        "max_dd": 4.805804386621576,
        "bets": 44,
        "feasible_gate": false,
        "guardrail_passed": true,
        "guardrail_reason": "ok",
        "objective_delta_vs_baseline": 1.390863382043545,
        "conservativeness": 0.634,
        "min_edge": 0.065,
        "min_ev": 0.06,
        "min_confidence": 0.64,
        "prob_shrink": 0.6,
        "kelly_fraction": 0.02,
        "max_stake_pct": 0.01,
        "max_bet_share": 0.08,
        "min_kelly_f": 0.07,
        "min_signal_score": 0.003,
        "edge_slope_by_odds": 0.02,
        "residual_shrink_odds_2_5": 0.96,
        "residual_shrink_odds_3_0": 0.95
      }
    ],
    "calibrator_h1": {
      "name": "identity",
      "metrics": {
        "brier_raw_val": 0.19068322353729783,
        "brier_sigmoid_val": 0.19322609795174267,
        "brier_isotonic_val": 0.19345631763803775,
        "ece_raw_val": 0.054384896981914024,
        "ece_sigmoid_val": 0.05454107276382952,
        "ece_isotonic_val": 0.06333375639928338,
        "n_train": 1038,
        "n_val": 446
      }
    },
    "tuning_diagnostics": {
      "objective_formula": "roi_minus_lambda_bets_ratio (lambda=0.5)",
      "score_formula": "roi_minus_lambda_bets_ratio (lambda=0.5)",
      "objective_mode": "roi_minus_lambda_bets_ratio",
      "lambda_bets": 0.5,
      "num_matches_train": 873,
      "min_bets_for_tuning": 100,
      "max_bets_increase_pct": 0.2,
      "fallback_eps_roi_pct": 0.1,
      "restricted_tuning_mode": false,
      "num_configs_total": 157464,
      "sampled_mode": true,
      "num_configs_evaluated_stage1": 2000,
      "num_configs_evaluated_refinement": 436,
      "num_configs_evaluated_total": 2436,
      "num_configs_dd_le_5": 2350,
      "num_configs_feasible": 0,
      "num_configs_guardrail_pass": 0,
      "max_bets_allowed_from_baseline": 45.6,
      "baseline_train_roi": 0.9927473682349274,
      "baseline_train_bets": 38,
      "baseline_objective": 0.9709833361616169,
      "selected_train_roi": 0.9927473682349274,
      "selected_train_bets": 38,
      "selected_objective": 0.9709833361616169,
      "selected_is_tuned": false,
      "selected_guardrail_passed": false,
      "selected_guardrail_reason": "no_candidate_with_dd<=5_and_min_bets",
      "selected_from_feasible_pool": false,
      "selection_reason": "baseline_fallback_no_feasible_candidates",
      "objective_delta_vs_baseline": 0.0,
      "roi_delta_vs_baseline": 0.0
    }
  },
  "tuning_diagnostics": {
    "objective_formula": "roi_minus_lambda_bets_ratio (lambda=0.5)",
    "score_formula": "roi_minus_lambda_bets_ratio (lambda=0.5)",
    "objective_mode": "roi_minus_lambda_bets_ratio",
    "lambda_bets": 0.5,
    "num_matches_train": 873,
    "min_bets_for_tuning": 100,
    "max_bets_increase_pct": 0.2,
    "fallback_eps_roi_pct": 0.1,
    "restricted_tuning_mode": false,
    "num_configs_total": 157464,
    "sampled_mode": true,
    "num_configs_evaluated_stage1": 2000,
    "num_configs_evaluated_refinement": 436,
    "num_configs_evaluated_total": 2436,
    "num_configs_dd_le_5": 2350,
    "num_configs_feasible": 0,
    "num_configs_guardrail_pass": 0,
    "max_bets_allowed_from_baseline": 45.6,
    "baseline_train_roi": 0.9927473682349274,
    "baseline_train_bets": 38,
    "baseline_objective": 0.9709833361616169,
    "selected_train_roi": 0.9927473682349274,
    "selected_train_bets": 38,
    "selected_objective": 0.9709833361616169,
    "selected_is_tuned": false,
    "selected_guardrail_passed": false,
    "selected_guardrail_reason": "no_candidate_with_dd<=5_and_min_bets",
    "selected_from_feasible_pool": false,
    "selection_reason": "baseline_fallback_no_feasible_candidates",
    "objective_delta_vs_baseline": 0.0,
    "roi_delta_vs_baseline": 0.0
  },
  "stress_tests": {
    "fixed_bets_cost_impact": [
      {
        "scenario": "baseline",
        "payout_haircut_pct": 0.0,
        "commission_pct": 0.0,
        "slippage_pct": 0.0,
        "roi": 2.2522777918024075,
        "bets": 82,
        "max_drawdown_pct": 2.207038030335847,
        "profit_factor": 1.1855587449034515
      },
      {
        "scenario": "mild",
        "payout_haircut_pct": 0.01,
        "commission_pct": 0.002,
        "slippage_pct": 0.002,
        "roi": 1.986389946645704,
        "bets": 82,
        "max_drawdown_pct": 2.2337347615506786,
        "profit_factor": 1.1631952022035623
      },
      {
        "scenario": "medium",
        "payout_haircut_pct": 0.02,
        "commission_pct": 0.003,
        "slippage_pct": 0.003,
        "roi": 1.7809171691631265,
        "bets": 82,
        "max_drawdown_pct": 2.2517112563677126,
        "profit_factor": 1.146157366205939
      },
      {
        "scenario": "hard",
        "payout_haircut_pct": 0.03,
        "commission_pct": 0.005,
        "slippage_pct": 0.005,
        "roi": 1.5162351480106053,
        "bets": 82,
        "max_drawdown_pct": 2.278397417300172,
        "profit_factor": 1.1240900140712375
      }
    ],
    "adaptive_with_costs": [
      {
        "scenario": "baseline",
        "payout_haircut_pct": 0.0,
        "commission_pct": 0.0,
        "slippage_pct": 0.0,
        "roi": 2.2522777918024075,
        "bets": 82,
        "max_drawdown_pct": 2.207038030335847,
        "profit_factor": 1.1855587449034515
      },
      {
        "scenario": "mild",
        "payout_haircut_pct": 0.01,
        "commission_pct": 0.002,
        "slippage_pct": 0.002,
        "roi": 2.4376260209310203,
        "bets": 80,
        "max_drawdown_pct": 2.185887828510141,
        "profit_factor": 1.2137094900678747
      },
      {
        "scenario": "medium",
        "payout_haircut_pct": 0.02,
        "commission_pct": 0.003,
        "slippage_pct": 0.003,
        "roi": 1.8631959730180372,
        "bets": 78,
        "max_drawdown_pct": 2.1689012480162004,
        "profit_factor": 1.1661331655358047
      },
      {
        "scenario": "hard",
        "payout_haircut_pct": 0.03,
        "commission_pct": 0.005,
        "slippage_pct": 0.005,
        "roi": 1.892393863493487,
        "bets": 75,
        "max_drawdown_pct": 2.1439932028400515,
        "profit_factor": 1.1797534704034314
      }
    ],
    "fixed_mode_monotonic_non_increasing_roi": true,
    "backtest_run_id": "bt_20260209_080218_34cae7f7",
    "backtest_generated_at_utc": "2026-02-09T08:02:18Z",
    "active_model_run_id": "20260209_070638_xgb_sigmoid"
  },
  "walk_forward": {
    "fold_freq": "quarter",
    "objective_mode": "roi_minus_lambda_bets_ratio",
    "lambda_bets": 0.5,
    "overall_baseline_roi": 2.821044173631162,
    "overall_tuned_roi": 2.821044173631162,
    "overall_tuned_vs_baseline_roi_diff": 0.0,
    "n_valid_folds": 3,
    "min_valid_folds_required_for_gate": 3,
    "tuned_not_worse_count": 3,
    "tuned_not_worse_min_required": 2,
    "tuned_not_worse_check": true,
    "chained_roi_valid_folds": {
      "baseline": 2.821044173631162,
      "tuned": 2.821044173631162
    },
    "rows": [
      {
        "test_period": "2024Q1",
        "test_quarter": "2024Q1",
        "train_matches": 1,
        "test_matches": 396,
        "fold_valid": false,
        "skip_reason": "train_matches<300",
        "train_best_score": NaN,
        "train_best_roi": NaN,
        "train_baseline_roi": NaN,
        "train_tuned_adv_roi": NaN,
        "baseline_train_bets": NaN,
        "tuned_train_bets": NaN,
        "objective_best": NaN,
        "objective_baseline": NaN,
        "objective_delta_vs_baseline": NaN,
        "bets_increase_pct_vs_baseline_train": NaN,
        "guardrail_passed": false,
        "guardrail_reason": "fold_invalid:train_matches<300",
        "restricted_tuning_mode": false,
        "selection_reason": "fold_invalid",
        "use_tuned_policy": NaN,
        "tuned_not_worse": NaN,
        "baseline_test_roi": NaN,
        "tuned_test_roi": NaN,
        "baseline_test_bets": 0,
        "tuned_test_bets": 0,
        "baseline_bankroll_end": 1000.0,
        "tuned_bankroll_end": 1000.0,
        "best_min_edge": NaN,
        "best_min_ev": NaN,
        "best_min_confidence": NaN,
        "best_prob_shrink": NaN
      },
      {
        "test_period": "2024Q2",
        "test_quarter": "2024Q2",
        "train_matches": 397,
        "test_matches": 476,
        "fold_valid": true,
        "skip_reason": "",
        "train_best_score": -0.7915772110205196,
        "train_best_roi": -0.767647739987774,
        "train_baseline_roi": -0.767647739987774,
        "train_tuned_adv_roi": 0.0,
        "baseline_train_bets": 19.0,
        "tuned_train_bets": 19.0,
        "objective_best": -0.7915772110205196,
        "objective_baseline": -0.7915772110205196,
        "objective_delta_vs_baseline": 0.0,
        "bets_increase_pct_vs_baseline_train": 0.0,
        "guardrail_passed": false,
        "guardrail_reason": "no_candidate_with_dd<=5_and_min_bets",
        "restricted_tuning_mode": false,
        "selection_reason": "baseline_fallback_no_feasible_candidates",
        "use_tuned_policy": false,
        "tuned_not_worse": true,
        "baseline_test_roi": 1.774013281081966,
        "tuned_test_roi": 1.774013281081966,
        "baseline_test_bets": 19,
        "tuned_test_bets": 19,
        "baseline_bankroll_end": 1017.7401328108197,
        "tuned_bankroll_end": 1017.7401328108197,
        "best_min_edge": 0.06,
        "best_min_ev": 0.06,
        "best_min_confidence": 0.64,
        "best_prob_shrink": 0.62
      },
      {
        "test_period": "2024Q3",
        "test_quarter": "2024Q3",
        "train_matches": 873,
        "test_matches": 478,
        "fold_valid": true,
        "skip_reason": "",
        "train_best_score": 0.9709833361616169,
        "train_best_roi": 0.9927473682349274,
        "train_baseline_roi": 0.9927473682349274,
        "train_tuned_adv_roi": 0.0,
        "baseline_train_bets": 38.0,
        "tuned_train_bets": 38.0,
        "objective_best": 0.9709833361616169,
        "objective_baseline": 0.9709833361616169,
        "objective_delta_vs_baseline": 0.0,
        "bets_increase_pct_vs_baseline_train": 0.0,
        "guardrail_passed": false,
        "guardrail_reason": "no_candidate_with_dd<=5_and_min_bets",
        "restricted_tuning_mode": false,
        "selection_reason": "baseline_fallback_no_feasible_candidates",
        "use_tuned_policy": false,
        "tuned_not_worse": true,
        "baseline_test_roi": 0.6430850992157219,
        "tuned_test_roi": 0.6430850992157219,
        "baseline_test_bets": 26,
        "tuned_test_bets": 26,
        "baseline_bankroll_end": 1024.2850679536643,
        "tuned_bankroll_end": 1024.2850679536643,
        "best_min_edge": 0.06,
        "best_min_ev": 0.06,
        "best_min_confidence": 0.64,
        "best_prob_shrink": 0.62
      },
      {
        "test_period": "2024Q4",
        "test_quarter": "2024Q4",
        "train_matches": 1351,
        "test_matches": 202,
        "fold_valid": true,
        "skip_reason": "",
        "train_best_score": 1.3372731162688374,
        "train_best_roi": 1.3616994671200586,
        "train_baseline_roi": 1.3616994671200586,
        "train_tuned_adv_roi": 0.0,
        "baseline_train_bets": 66.0,
        "tuned_train_bets": 66.0,
        "objective_best": 1.3372731162688374,
        "objective_baseline": 1.3372731162688374,
        "objective_delta_vs_baseline": 0.0,
        "bets_increase_pct_vs_baseline_train": 0.0,
        "guardrail_passed": false,
        "guardrail_reason": "bets_above_guardrail:116>79.20",
        "restricted_tuning_mode": false,
        "selection_reason": "baseline_fallback_guardrail_failed",
        "use_tuned_policy": false,
        "tuned_not_worse": true,
        "baseline_test_roi": 0.383230597170519,
        "tuned_test_roi": 0.383230597170519,
        "baseline_test_bets": 13,
        "tuned_test_bets": 13,
        "baseline_bankroll_end": 1028.2104417363116,
        "tuned_bankroll_end": 1028.2104417363116,
        "best_min_edge": 0.06,
        "best_min_ev": 0.06,
        "best_min_confidence": 0.64,
        "best_prob_shrink": 0.62
      }
    ],
    "backtest_run_id": "bt_20260209_080218_34cae7f7",
    "backtest_generated_at_utc": "2026-02-09T08:02:18Z",
    "active_model_run_id": "20260209_070638_xgb_sigmoid"
  },
  "no_odds_eval": {
    "enabled": true,
    "source": "/content/drive/MyDrive/match-prediction_persist/data/processed_features.csv",
    "year": 2024,
    "levels": [
      "C",
      "F"
    ],
    "combined": {
      "n_matches": 56678,
      "logloss": 0.5776746705484358,
      "brier": 0.19769076619463877,
      "auc": 0.7628429443500646,
      "accuracy_0_5": 0.6905148382088289,
      "ece_10_bins": 0.0023758706377406177,
      "mce_10_bins": 0.008497812763900936
    },
    "by_level": {
      "C": {
        "n_matches": 19704,
        "logloss": 0.6132139523709431,
        "brier": 0.21358794933675526,
        "auc": 0.7154689547404717,
        "accuracy_0_5": 0.6500710515631344,
        "ece_10_bins": 0.0067417065913234755,
        "mce_10_bins": 0.018920627014732627
      },
      "F": {
        "n_matches": 36974,
        "logloss": 0.5587352534166491,
        "brier": 0.18921891850079275,
        "auc": 0.7843352950306643,
        "accuracy_0_5": 0.7120679396332558,
        "ece_10_bins": 0.005862932029393703,
        "mce_10_bins": 0.009784904637446301
      }
    },
    "baselines": {
      "p50": {
        "probability": 0.5,
        "combined": {
          "n_matches": 56678,
          "logloss": 0.6931471805599453,
          "brier": 0.25,
          "auc": 0.5,
          "accuracy_0_5": 0.5,
          "ece_10_bins": 0.0,
          "mce_10_bins": 0.0
        }
      },
      "train_prior": {
        "probability": 0.5,
        "n_train_rows": 416482,
        "combined": {
          "n_matches": 56678,
          "logloss": 0.6931471805599453,
          "brier": 0.25,
          "auc": 0.5,
          "accuracy_0_5": 0.5,
          "ece_10_bins": 0.0,
          "mce_10_bins": 0.0
        }
      }
    },
    "gate": {
      "policy": "light",
      "status": "pass",
      "reasons": [
        "model_beats_train_prior_on_logloss_and_brier"
      ]
    },
    "warnings": [],
    "calibrator_name": "isotonic",
    "odds_proxy_for_pipeline": 2.0
  },
  "report_coherence": {
    "pass": true,
    "checks": {
      "walk_forward_present": true,
      "stress_report_present": true,
      "baseline_snapshot_present": true,
      "walk_forward_run_id_match": true,
      "walk_forward_timestamp_match": true,
      "stress_report_run_id_match": true,
      "stress_report_timestamp_match": true,
      "baseline_snapshot_run_id_match": true,
      "baseline_snapshot_timestamp_match": true,
      "walk_forward_fold_freq_match": true,
      "walk_forward_vs_runtime_fold_freq_match": true
    },
    "reasons": []
  },
  "oos_gate": {
    "status": "GO",
    "pass": true,
    "checks": {
      "walkforward_baseline_roi_gt_0": true,
      "walkforward_min_valid_folds": true,
      "walkforward_tuned_vs_baseline_threshold": true,
      "walkforward_tuned_not_worse_fold_count": true,
      "max_drawdown_le_5pct": true,
      "ece_calibrated_lt_ece_raw": true,
      "report_coherence": true
    },
    "reasons": []
  },
  "promotion_decision": {
    "status": "promote",
    "reasons": [],
    "criteria_snapshot": {
      "report_coherence_pass": true,
      "oos_gate_pass": true,
      "walk_forward_overall_baseline_roi": 2.821044173631162,
      "walk_forward_overall_tuned_roi": 2.821044173631162,
      "max_drawdown_pct": 2.207038030335847,
      "no_odds_eval_gate_status": "pass"
    }
  },
  "scorecard_row": {
    "timestamp_utc": "2026-02-09T08:02:18Z",
    "backtest_run_id": "bt_20260209_080218_34cae7f7",
    "active_model_run_id": "20260209_070638_xgb_sigmoid",
    "fold_freq": "quarter",
    "objective_mode": "roi_minus_lambda_bets_ratio",
    "baseline_roi_pct": 2.2522777918024075,
    "baseline_bets": 82,
    "baseline_max_drawdown_pct": 2.207038030335847,
    "walkforward_baseline_roi_pct": 2.821044173631162,
    "walkforward_tuned_roi_pct": 2.821044173631162,
    "walkforward_tuned_vs_baseline_roi_diff_pct": 0.0,
    "oos_gate_status": "GO",
    "oos_gate_pass": true,
    "promotion_status": "promote",
    "oos_reasons": "",
    "promotion_reasons": ""
  }
}